%% Type theory macros
\NewDocumentCommand{\Sum}{m}{\textstyle \DelimMin{2}\sum_{\DelimProtect{#1}}}
\NewDocumentCommand{\Prod}{m}{\textstyle \DelimMin{2}\prod_{\DelimProtect{#1}}}
\NewDocumentCommand{\Coprod}{m}{\textstyle \DelimMin{2}\coprod_{\DelimProtect{#1}}}
\NewDocumentCommand{\Pushout}{m}{\mathbin{\textstyle \DelimMin{2}\coprod_{\DelimProtect{#1}}}}
\NewDocumentCommand{\In}{m}{\mathsf{in}_{#1}}
\NewDocumentCommand{\Uni}{O{}}{\mathsf{U}_{#1}}
\NewDocumentCommand{\Dec}{O{}g}{\mathsf{El}_{#1}\IfValueT{#2}{\prn{#2}}}

\NewDocumentCommand{\IsTm}{O{\Gamma}mm}{#1 \vdash #2 \colon #3}
\NewDocumentCommand{\IsTy}{O{\Gamma}m}{#1 \vdash #2}
\NewDocumentCommand{\IsDCx}{mm}{#1; #2\ \mathsf{dcx}}
\NewDocumentCommand{\IsCx}{m}{#1\ \mathsf{cx}}
\NewDocumentCommand{\IsSb}{O{\Gamma}mm}{\Mor[#2]{#1}{#3}}
\NewDocumentCommand{\IsDSb}{O{\Gamma}mmm}{\Mor[#2;#3]{#1}{#4}}

\NewDocumentCommand{\EmpCx}{}{\mathbf{1}}
\NewDocumentCommand{\ECx}{mm}{#1.#2}

\NewDocumentCommand{\Wk}{}{\mathsf{p}}
\NewDocumentCommand{\ESb}{mm}{#1.#2}
\NewDocumentCommand{\ISb}{}{\ArrId{}}
\NewDocumentCommand{\EmpSb}{}{\ArrTerm{}}
\NewDocumentCommand{\LiftSb}{m}{\mathsf{cart}\prn{#1}}
\NewDocumentCommand{\FactorSb}{mm}{\gls{#1,#2}}

\NewDocumentCommand{\Circ}{}{{\textnormal{\fullmoon}}}
\NewDocumentCommand{\MkBox}{m}{\mathsf{box}\prn{#1}}
\NewDocumentCommand{\MkCirc}{m}{\mathsf{circ}\prn{#1}}
\NewDocumentCommand{\UnCirc}{m}{\mathsf{uncirc}\prn{#1}}
\NewDocumentCommand{\LetBox}{mm}{\mathsf{let}\ \MkBox{-} \gets #1\ \mathsf{in}\ #2}
\NewDocumentCommand{\LetMod}{mmmm}{\mathsf{let}_{#3}\ \mathsf{mod}_{#4}\prn{-} \gets #1\ \mathsf{in}\ #2}
\NewDocumentCommand{\Var}{}{\mathsf{q}}
\NewDocumentCommand{\MVar}{}{\mathsf{q}}
\NewDocumentCommand{\Sb}{mm}{#1\brk{#2}}

\NewDocumentCommand{\CMkCirc}{}{\mathbf{circ}}
\NewDocumentCommand{\CCirc}{}{\mathbf{Circ}}
\NewDocumentCommand{\CMkBox}{}{\mathbf{box}}
\NewDocumentCommand{\CBox}{}{\mathbf{Box}}
\NewDocumentCommand{\CLetBox}{}{\mathbf{letbox}}

\NewDocumentCommand{\El}{o}{\IfValueTF{#1}{\tau_{#1}}{\tau}}
\NewDocumentCommand{\EL}{o}{\IfValueTF{#1}{\mathcal{U}^{\bullet}_{#1}}{\mathcal{U}^{\bullet}}}
\NewDocumentCommand{\TY}{o}{\IfValueTF{#1}{\mathcal{U}_{#1}}{\mathcal{U}}}

\NewDocumentCommand{\VEl}{o}{\IfValueTF{#1}{\upsilon_{#1}}{\upsilon}}
\NewDocumentCommand{\VEL}{o}{\IfValueTF{#1}{\mathcal{V}^{\bullet}_{#1}}{\mathcal{V}^{\bullet}}}
\NewDocumentCommand{\VTY}{o}{\IfValueTF{#1}{\mathcal{V}_{#1}}{\mathcal{V}}}
